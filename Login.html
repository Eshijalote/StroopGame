<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Login</title>
    <script src="https://cdn.auth0.com/js/lock/11.3.0/lock.min.js"></script>
    <script>
        var lock = new Auth0Lock('EKGzr6M1Daib8ws5KXovxwMVxIjf7acs', 'gamelogin.auth0.com', {
            auth: {
                redirectUrl: 'https://eshijalote.github.io/StroopTest.html',
                responseType: 'code',
                params: {
                    scope: 'openid email' // Learn about scopes: https://auth0.com/docs/scopes
                }
            }
        });
        lock.show();

        lock.on("authenticated", function(authResult) {
            // Use the token in authResult to getUserInfo() and save it to localStorage
            lock.getUserInfo(authResult.accessToken, function(error, profile) {
                if (error) {
                    // Handle error
                    return;
                }

                document.getElementById('nick').textContent = profile.nickname;

                localStorage.setItem('accessToken', authResult.accessToken);
                localStorage.setItem('profile', JSON.stringify(profile));
            });
        });
    </script>

    <meta name="viewport" content="width=device-width, initial-scale=1"/>
</head>
<body>
<h2>Welcome <span id="nick" class="nickname"></span></h2>
</body>
</html>